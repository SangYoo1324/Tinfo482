"use strict";(self.webpackChunktinfo482=self.webpackChunktinfo482||[]).push([[430],{2430:(M,g,a)=>{a.r(g),a.d(g,{LoginModule:()=>x});var u=a(6814),p=a(2030),s=a(95),l=a(8145),t=a(9212),m=a(7507),f=a(5495);function v(i,d){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=d.$implicit;t.xp6(),t.Oqu(e)}}function _(i,d){if(1&i&&(t.TgZ(0,"div",1)(1,"div",2),t._UZ(2,"div",3),t.qZA(),t.TgZ(3,"div",4)(4,"div",5),t._uU(5),t.YNc(6,v,2,1,"span",6),t.qZA()()()),2&i){const e=t.oxw();t.xp6(5),t.hij(" \xa0",e.subject," Processing "),t.xp6(),t.Q6J("ngForOf",e.dotsSignal())}}let b=(()=>{class i{constructor(){this.subject="loading",this.isActivated=!1,this.dotsSignal=(0,t.tdS)(["."])}ngOnInit(){setInterval(()=>{this.dotsSignal.update(e=>4===e.length?["."]:[".",...e])},500)}static#t=this.\u0275fac=function(n){return new(n||i)};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-loading"]],inputs:{subject:"subject",isActivated:"isActivated"},standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","loader",4,"ngIf"],[1,"loader"],[1,"spinner-wrap"],["role","status",1,"spinner-border"],[1,"text-wrap"],[1,"loading-text"],[4,"ngFor","ngForOf"]],template:function(n,o){1&n&&t.YNc(0,_,7,2,"div",0),2&n&&t.Q6J("ngIf",o.isActivated)},dependencies:[u.sg,u.O5],styles:[".loader[_ngcontent-%COMP%]{position:absolute;background-color:#000000b3;z-index:15;width:100%;height:100vh;display:flex;align-items:center;justify-content:center}.loading-text[_ngcontent-%COMP%]{font-size:30px;color:#fff}.spinner-border[_ngcontent-%COMP%]{color:#fff}"]})}return i})();var C=a(7676),y=a(6146);let P=(()=>{class i{constructor(){this.amount=5,this.time="",this.timerValue=60*this.amount}ngOnInit(){this.startTimer()}ngOnDestroy(){this.stopTimer()}startTimer(){this.timeInterval=setInterval(()=>{this.updateTimer()},1e3)}stopTimer(){clearInterval(this.timeInterval)}updateTimer(){const e=Math.floor(this.timerValue/60),n=this.timerValue%60;this.time=`${e}: ${n<10?"0":""}${n}`,this.timerValue>0?this.timerValue--:(this.stopTimer(),alert("Your verification code has expired. Please reissue..."))}static#t=this.\u0275fac=function(n){return new(n||i)};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-timer"]],inputs:{amount:"amount"},standalone:!0,features:[t.jDz],decls:2,vars:1,template:function(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n&&(t.xp6(),t.hij(" Your cod eexpires in ",o.time,""))}})}return i})();const T=["input"];let Z=(()=>{class i{constructor(e,n,o,r){this.memberService=e,this.router=n,this.memberAuthService=o,this.asyncService=r,this.trigger=!1}ngAfterViewInit(){this.inputs&&this.inputs.length>0&&this.inputs.first.nativeElement.focus()}onInput(e){const o=e+1;this.inputs.toArray()[e].nativeElement.value&&this.inputs.toArray()[o]&&this.inputs.toArray()[o].nativeElement.focus()}onBackspace(e,n){const o=this.inputs.toArray()[n],r=n-1;"Backspace"==e.key&&n>0&&!o.nativeElement.value&&(e.preventDefault(),this.inputs.toArray()[r]&&this.inputs.toArray()[r].nativeElement.focus())}onSubmit(){let e="";this.inputs.toArray().forEach(n=>{e+=n.nativeElement.value}),console.log(e),console.log("data received from login:::"+this.inputEmailPWUsername),this.memberService.validation(e,this.inputEmailPWUsername).subscribe(n=>{console.log(n),this.memberAuthService.setRoles(n.roles),this.memberAuthService.setToken(n.accessToken),this.memberAuthService.setUsernameEmail(n.username,n.email,n.id),this.memberAuthService.setExpirationTime(),this.asyncService.isLoggedIn$.next(!0),alert("Login Success! Hello, "+n.username),this.router.navigate([""])},n=>{alert("Login Failed... Please check your verification code")})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(m.n),t.Y36(p.F0),t.Y36(C.W),t.Y36(y.G))};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-validation"]],viewQuery:function(n,o){if(1&n&&t.Gf(T,5),2&n){let r;t.iGM(r=t.CRH())&&(o.inputs=r)}},inputs:{inputEmailPWUsername:"inputEmailPWUsername",trigger:"trigger"},decls:33,vars:1,consts:[[1,"container"],[1,"wrap"],["id","verification-inputs",1,"verification-inputs"],["type","text","maxlength","1",3,"input","keydown"],["input",""],[1,"option-wrap"],[1,"resend-code"],[1,"submit-btn-wrap"],[1,"submit-btn",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"h3"),t._uU(4,"Email Verification"),t.qZA(),t.TgZ(5,"p"),t._uU(6,"Please enter your 6 digit verfication code given from the email address "),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"h5"),t._uU(10,"Verification Code expires in: "),t.qZA(),t._UZ(11,"app-timer"),t.TgZ(12,"div",2)(13,"input",3,4),t.NdJ("input",function(){return o.onInput(0)})("keydown",function(c){return o.onBackspace(c,0)}),t.qZA(),t.TgZ(15,"input",3,4),t.NdJ("input",function(){return o.onInput(1)})("keydown",function(c){return o.onBackspace(c,1)}),t.qZA(),t.TgZ(17,"input",3,4),t.NdJ("input",function(){return o.onInput(2)})("keydown",function(c){return o.onBackspace(c,2)}),t.qZA(),t.TgZ(19,"input",3,4),t.NdJ("input",function(){return o.onInput(3)})("keydown",function(c){return o.onBackspace(c,3)}),t.qZA(),t.TgZ(21,"input",3,4),t.NdJ("input",function(){return o.onInput(4)})("keydown",function(c){return o.onBackspace(c,4)}),t.qZA(),t.TgZ(23,"input",3,4),t.NdJ("input",function(){return o.onInput(5)})("keydown",function(c){return o.onBackspace(c,5)}),t.qZA()(),t.TgZ(25,"div",5)(26,"h5"),t._uU(27,"Didn't get the email?"),t.qZA(),t.TgZ(28,"button",6),t._uU(29,"resend Code"),t.qZA(),t.TgZ(30,"div",7)(31,"button",8),t.NdJ("click",function(){return o.onSubmit()}),t._uU(32,"Complete Verification"),t.qZA()()()()()()),2&n&&(t.xp6(8),t.hij(" ",o.inputEmailPWUsername.email,""))},dependencies:[P],styles:["section[_ngcontent-%COMP%]{display:flex;position:fixed;top:0;left:0;width:100%;z-index:1000;align-items:center;justify-content:center;height:100vh;background-color:#000000b3}.wrap[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 0 10px #0000001a;padding:20px;text-align:center}h3[_ngcontent-%COMP%]{color:#333}p[_ngcontent-%COMP%]{color:#777;margin-bottom:20px}.verification-inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}input[_ngcontent-%COMP%]{width:30px;height:30px;text-align:center;font-size:16px;border:1px solid #ccc;border-radius:5px}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4caf50}.option-wrap[_ngcontent-%COMP%]{margin:1rem}.option-wrap[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:1rem}.resend-code[_ngcontent-%COMP%]{padding:.5rem 1.5rem;background-color:#ff00004d;border-radius:1rem;border:2px solid black;transition:background-color .3s ease-in-out}.resend-code[_ngcontent-%COMP%]:hover{background-color:#ff0000b3}.submit-btn[_ngcontent-%COMP%]{padding:.5rem 1.5rem;background-color:transparent;border-radius:1rem;border:2px solid black;transition:background-color .3s ease-in-out}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#4caf50}"]})}return i})();function A(i,d){if(1&i&&t._UZ(0,"app-validation",19),2&i){const e=t.oxw();t.Q6J("inputEmailPWUsername",e.inputEmailPWUsername)}}const O=[{path:"",component:(()=>{class i{constructor(e,n){this.memberService=e,this.authService=n,this.isActivated=!1,this.triggerVerification=!1}ngOnInit(){this.reactiveForm=new s.cw({email:new s.NI(null,[s.kI.required,s.kI.email]),password:new s.NI(null,s.kI.required)}),this.authService.authState.subscribe(e=>{console.log(e),this.inputEmailPWUsername={email:e.email,password:"OAuth",username:e.name,provider:"GOOGLE"},this.isActivated=!0,this.memberService.oAuthLogin(this.inputEmailPWUsername).subscribe(n=>{console.log(n),this.triggerVerification=!0,this.isActivated=!1})})}onFormSubmit(){console.log(this.reactiveForm.value),this.isActivated=!0,this.memberService.login(this.reactiveForm.value).subscribe(e=>{this.isActivated=!1,this.inputEmailPWUsername=e,this.inputEmailPWUsername.password=this.reactiveForm.value.password,this.triggerVerification=!0},e=>{alert("ID & Password not matching please try again"),this.isActivated=!1})}facebook_login(){this.authService.signIn(l.LP.PROVIDER_ID).then(e=>{console.log("Facebook login::::+userdata")})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(m.n),t.Y36(l.xE))};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-login"]],decls:27,vars:5,consts:[["id","login"],["login",""],[3,"subject","isActivated"],["id","container",1,"row"],[1,"log-in-container","col-lg-6"],[3,"formGroup","ngSubmit"],[1,"social-container"],["src","/assets/login/facebook_logo.png","alt","",3,"click"],["shape","circle","theme","outline","size","large","type","icon"],["formControlName","email","type","email","placeholder","email"],["formControlName","password","type","password","placeholder","Password"],[1,"extra-option-wrap"],["href","#",1,"forget-password"],["routerLink","/signup",1,"sign-up"],["type","submit",3,"disabled"],[1,"overlay-container","col-lg-6"],[1,"overlay"],[1,"overlay-panel","overlay-right"],[3,"inputEmailPWUsername",4,"ngIf"],[3,"inputEmailPWUsername"]],template:function(n,o){1&n&&(t.TgZ(0,"section",0,1),t._UZ(2,"app-loading",2),t.TgZ(3,"div",3)(4,"div",4)(5,"form",5),t.NdJ("ngSubmit",function(){return o.onFormSubmit()}),t.TgZ(6,"h1"),t._uU(7,"Login"),t.qZA(),t.TgZ(8,"div",6)(9,"img",7),t.NdJ("click",function(){return o.facebook_login()}),t.qZA(),t._UZ(10,"asl-google-signin-button",8),t.qZA(),t.TgZ(11,"span"),t._uU(12,"or use your account"),t.qZA(),t._UZ(13,"input",9)(14,"input",10),t.TgZ(15,"div",11)(16,"a",12),t._uU(17,"Forgot your password?"),t.qZA(),t.TgZ(18,"a",13),t._uU(19,"First time? Let's Sign up!"),t.qZA()(),t.TgZ(20,"button",14),t._uU(21,"Log In"),t.qZA()()(),t.TgZ(22,"div",15)(23,"div",16),t._UZ(24,"div",17),t.qZA()()()(),t.YNc(25,A,1,1,"app-validation",18),t._UZ(26,"app-footer")),2&n&&(t.xp6(2),t.Q6J("subject","login")("isActivated",o.isActivated),t.xp6(3),t.Q6J("formGroup",o.reactiveForm),t.xp6(15),t.Q6J("disabled",!o.reactiveForm.valid),t.xp6(5),t.Q6J("ngIf",o.triggerVerification))},dependencies:[u.O5,p.rH,f.c,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,b,l.TI,Z],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:400,800";#login[_ngcontent-%COMP%]{background-color:#1e1f24;width:100%;height:100vh;position:relative}h1[_ngcontent-%COMP%]{margin-top:1rem}a[_ngcontent-%COMP%]{text-decoration:none}#container[_ngcontent-%COMP%]{width:70%;margin:0 auto}.log-in-container[_ngcontent-%COMP%]{padding:0}form[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 50px;height:100%;text-align:center}input[_ngcontent-%COMP%]{background-color:#eee;border:none;padding:12px 15px;margin:8px 0;width:100%}.social-container[_ngcontent-%COMP%]{margin:50px 0;display:flex}.social-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:40px;margin-right:1rem;margin-top:.1rem;cursor:pointer}.social-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#1e2125}.extra-option-wrap[_ngcontent-%COMP%]{margin:1rem}.extra-option-wrap[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:block;color:gray}.extra-option-wrap[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#cc181e}.overlay-container[_ngcontent-%COMP%]{background-image:url(/assets/login/login_bg.jpg);background-size:cover}button[_ngcontent-%COMP%]{padding:18px 45px;border-radius:55px;background-color:bisque;border:none;margin:1rem;font-weight:700;transition:background-color .5s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:var(--hover-color)}@media (max-width: 767px){#container[_ngcontent-%COMP%]{width:100%}.overlay-container[_ngcontent-%COMP%]{height:40vh}}']})}return i})()}];let w=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#n=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(O),p.Bz]})}return i})();var h=a(6404),k=a(7637);let x=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#n=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({providers:[m.n,k.s,{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:l.tV.PROVIDER_ID,provider:new l.tV(h.q.google_api_id)},{id:l.LP.PROVIDER_ID,provider:new l.LP(h.q.facebook_api_id)}],onError:e=>{console.error(e)}}}],imports:[u.ez,w,s.UX,l.IL]})}return i})()}}]);